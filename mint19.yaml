---
# repositories we'd like to add - mandatory
repositories:
- repo: deb http://download.opensuse.org/repositories/home:/Alexx2000/xUbuntu_18.04/ /
  filename: alexx2000
- repo: ppa:ansible/ansible
  filename: ansible
- repo: deb https://packagecloud.io/asbru-cm/asbru-cm/ubuntu/ bionic main
  filename: asbru-cm
- repo: deb [arch=amd64] https://packages.microsoft.com/repos/azure-cli/ bionic main
  filename: azure-cli
- repo: deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable
  filename: docker-stable
- repo: deb http://packages.cloud.google.com/apt gcsfuse-bionic main
  filename: gcsfuse
- repo: ppa:gezakovacs/ppa
  filename: gezakovacs
- repo: deb https://packagecloud.io/github/git-lfs/linuxmint/ tara main
  filename: github_git-lfs
- repo: deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main
  filename: google-chrome
- repo: deb http://packages.cloud.google.com/apt cloud-sdk-bionic main
  filename: google-cloud-sdk
- repo: deb http://apt.kubernetes.io/ kubernetes-xenial main
  filename: kubernetes-stable
- repo: deb [arch=amd64] https://packages.microsoft.com/ubuntu/18.04/prod bionic main
  filename: microsoft-prod-deb
- repo: ppa:mozillateam/ppa
  filename: mozillateam
- repo: deb http://download.opensuse.org/repositories/home:/stevenpusser/xUbuntu_18.04 /
  filename: palemoon
- repo: ppa:remmina-ppa-team/remmina-next
  filename: remmina-next
- repo: ppa:ubuntuhandbook1/shutter
  codename: bionic
  filename: shutter
- repo: ppa:synapse-core/testing
  filename: synapse-core
- repo: ppa:ubuntu-mozilla-security/ppa
  filename: ubuntu-mozilla-security
- repo: deb [arch=amd64] http://download.virtualbox.org/virtualbox/debian bionic contrib
  filename: virtualbox
- repo: deb [arch=amd64] https://packages.microsoft.com/repos/vscode stable main
  filename: vscode
- repo: ppa:webupd8team/y-ppa-manager
  filename: y-ppa-manager
repositories_optional:
 # brave browser
- repo: deb [arch=amd64] https://brave-browser-apt-release.s3.brave.com/ bionic main
  filename: brave-browser-release-bionic.list
  codename: bionic
- repo: ppa:xuzhen666/dockbarx
  codename: bionic
  filename: dockbarx
- repo: deb http://repo.sinew.in/ stable main
  codename: stable
  filename: enpass
- repo: ppa:danielrichter2007/grub-customizer
  codename: xenial
  filename: grub-customizer
- repo: ppa:dawidd0811/neofetch
  codename: bionic
  filename: neofetch
- repo: ppa:noobslab/icons
  filename: noobslab-icons
  codename: bionic
- repo: ppa:noobslab/themes
  filename: noobslab-themes
  codename: bionic
- repo: deb http://apt.puppetlabs.com bionic puppet5
  filename: puppet5
  codename: bionic
- repo: deb [arch=amd64] https://repo.skype.com/deb stable main
  codename: stable
  filename: skype-stable
- repo: deb http://repository.spotify.com stable non-free
  codename: stable
  filename: spotify
- repo: deb https://download.sublimetext.com/ apt/stable/
  codename: stable
  filename: sublime-text
- repo: deb https://aquasecurity.github.io/trivy-repo/deb bionic main
  filename: trivy
  codename: bionic
- repo: deb [arch=amd64] http://repository.veeam.com/backup/linux/agent/dpkg/debian/public stable veeam
  codename: stable
  filename: veeam
- repo: ppa:unit193/encryption
  filename: veracrypt
  codename: bionic
- repo: ppa:nilarimogard/webupd8
  filename: webupdt
  codename: bionic
- repo: ppa:linuxuprising/apps
  filename: linuxuprising
  codename: bionic
- repo: deb [arch=amd64] https://packages.microsoft.com/repos/ms-teams stable main
  filename: teams
  codename: bionic
- repo: deb http://apt.insync.io/mint tricia non-free contrib
  filename: insync
  codename: tricia
repositories_remove:
- repo: ppa:alexx2000/doublecmd
  filename: alexx2000-doublecmd
- repo: deb https://knqyf263.github.io/trivy-repo/deb bionic main
  filename: trivy
- repo: ppa:ehoover/compholio
  filename: compholio
- repo: deb [arch=amd64] http://repo.fortinet.com/repo/ubuntu/ /bionic multiverse
  filename: forticlient
  codename: bionic
keys:
- https://download.opensuse.org/repositories/home:stevenpusser/xUbuntu_18.04/Release.key
- https://download.opensuse.org/repositories/home:Alexx2000/xUbuntu_18.04/Release.key
- https://packages.microsoft.com/keys/microsoft.asc
- https://dl-ssl.google.com/linux/linux_signing_key.pub
- https://packages.cloud.google.com/apt/doc/apt-key.gpg
- https://dl.sinew.in/keys/enpass-linux.key
- https://www.virtualbox.org/download/oracle_vbox_2016.asc
- https://download.sublimetext.com/sublimehq-pub.gpg
- https://download.docker.com/linux/ubuntu/gpg
- http://repository.veeam.com/keys/veeam.gpg
- https://repo.skype.com/data/SKYPE-GPG-KEY
- https://packagecloud.io/github/git-lfs/gpgkey
- https://apt.puppetlabs.com/pubkey.gpg
- https://packagecloud.io/asbru-cm/asbru-cm/gpgkey
- https://aquasecurity.github.io/trivy-repo/deb/public.key
- https://brave-browser-apt-release.s3.brave.com/brave-core.asc
- https://download.spotify.com/debian/pubkey.gpg
- https://d2t3ff60b2tol4.cloudfront.net/repomd.xml.key
keys_remove:
- 5E54716D
packages_essential:
- apt-transport-https
- mc
- dkms
- gcc
- dotnet-sdk-2.2
- dotnet-runtime-2.2
- build-essential
- mint-meta-codecs
- libvte-dev
packages:
- synaptic
- ansible
- azure-cli
- google-cloud-sdk
- gcsfuse
- awscli
- palemoon
- code
- powershell
- google-chrome-stable
- virtualbox-6.1
- dropbox
- python-dev
- krb5-config
- krb5-locales
- krb5-user
- krb5-multidev
- libkrb5-dev
- python-pip
- python-all-dev
- python-wheel
- python-gpg
- python-psutil
- python3-pip
- python3-all-dev
- python3-wheel
- python3-gpg
- python3-psutil
- diodon
- doublecmd-gtk
- htop
- iotop
- atop
- iftop
- nmap
- zenmap
- remmina
- remmina-plugin-rdp
- remmina-plugin-vnc
- remmina-plugin-secret
- mpv
- rabbitvcs-core
- liblinear-tools
- liblinear-dev
- p7zip-rar
- hwinfo
- ndiff
- extlinux
- syslinux
- unetbootin-translations
- va-driver-all
- p7zip-rar
- chromium-codecs-ffmpeg-extra
- wireshark
- xca
- viewnior
- tlp
- ncurses-term
- ssh-import-id
- screen
- tmux
- arj
- terminator
- ncdu
- keepass2
- smartmontools
- libqt5multimedia5-plugins
- openjdk-11-jre
- gsmartcontrol
- nmon
- sysstat
- stress
- npm
- unzip
- docker-ce
- kubeadm
- shutter
- synapse
- git
- gparted
- filezilla
- git-lfs
- network-manager-fortisslvpn
- openfortivpn
- network-manager-vpnc
- network-manager-openconnect
- redshift-gtk
- asbru-cm
- iperf3
- traceroute
- nfs-common
- rdesktop
- gddrescue
- testdisk
- partclone
- clonezilla
- httpie
- ngrep
- tshark
- hping3
- siege
- trivy
- sshfs
- whois
- dos2unix
- ioping
- dstat
- rclone
- multitail
- shellcheck
- dconf-cli
- dconf-editor
- freerdp2-x11
packages_optional:
- enpass
- pdk
- puppet-agent
- kodi
- dockbarx
- grub-customizer
- unetbootin
- adobe-flashplugin
- adobe-flash-properties-gtk
- gimp
- vlc
- kazam
- sublime-text
- javascript-common
- geoip-database-extra
- thunderbird
- neofetch
- skypeforlinux
- veeam
- veeamsnap
- pinta
- woeusb
- veracrypt
- spotify-client
- isomaster
- brave-browser
- tlpui
- teams
- goaccess
- hashcat
deb:
- https://github.com/angryip/ipscan/releases/download/3.7.2/ipscan_3.7.2_amd64.deb
- https://release.axocdn.com/linux/gitkraken-amd64.deb
- https://releases.hashicorp.com/vagrant/2.2.9/vagrant_2.2.9_x86_64.deb
- https://launchpad.net/ubuntu/+archive/primary/+files/libgoo-canvas-perl_0.06-2ubuntu3_amd64.deb
- https://github.com/BoostIO/boost-releases/releases/download/v0.15.3/boostnote_0.15.3_amd64.deb
- https://github.com/Eugeny/terminus/releases/download/v1.0.112/terminus-1.0.112-linux.deb
- https://github.com/TheGoddessInari/hamsket/releases/download/0.5.20/Rambox_0.5.20_amd64.deb
- https://download.teamviewer.com/download/linux/teamviewer_amd64.deb
- https://github.com/kubernetes/minikube/releases/download/v1.11.0/minikube_1.11.0-0_amd64.deb
- http://wdl1.pcfg.cache.wpscdn.com/wpsdl/wpsoffice/download/linux/9505/wps-office_11.1.0.9505.XA_amd64.deb
- https://github.com/wagoodman/dive/releases/download/v0.9.2/dive_0.9.2_linux_amd64.deb
- https://github.com/balena-io/etcher/releases/download/v1.5.97/balena-etcher-electron_1.5.97_amd64.deb
- https://github.com/goodwithtech/dockle/releases/download/v0.2.4/dockle_0.2.4_Linux-64bit.deb
flatpak:
- name: https://flathub.org/repo/appstream/com.getpostman.Postman.flatpakref
pip:
- pip
- psutil
- s-tui
- pywinrm[kerberos]
- pywinrm[credssp]
- pypsrp
- yamllint
- ansible-lint
- jmespath
- jsonlint

unpack:
- url: https://get.helm.sh/helm-v2.14.3-linux-amd64.tar.gz
  destination: helm
  source: helm
  destination_file: helm.tar.gz
  folder: linux-amd64
- url: https://get.helm.sh/helm-v3.2.3-linux-amd64.tar.gz
  destination: helm3
  source: helm
  destination_file: helm3.tar.gz
  folder: linux-amd64
- url: https://github.com/OWASP/Amass/releases/download/v3.6.3/amass_linux_amd64.zip
  destination: amass
  source: amass
  folder: amass_linux_amd64
  destination_file: amass.zip
downloads:
- url: https://releases.hashicorp.com/packer/1.5.6/packer_1.5.6_linux_amd64.zip
  destination: packer
  skip_tree: false
- url: https://releases.hashicorp.com/terraform/0.12.26/terraform_0.12.26_linux_amd64.zip
  destination: terraform
  skip_tree: false
- url: https://releases.hashicorp.com/vault/1.4.2/vault_1.4.2_linux_amd64.zip
  destination: vault
  skip_tree: false
- url: https://github.com/terraform-linters/tflint/releases/download/v0.16.2/tflint_linux_amd64.zip
  destination: tflint
  skip_tree: false
- url: https://github.com/ffuf/ffuf/releases/download/v1.0.2/ffuf_1.0.2_linux_amd64.tar.gz
  destination: ffluf
  skip_tree: false
- url: https://github.com/FairwindsOps/polaris/releases/download/1.0.3/polaris_1.0.3_linux_amd64.tar.gz
  destination: polaris
  skip_tree: false
files:
- url: https://github.com/docker/compose/releases/download/1.26.0/docker-compose-Linux-x86_64
  destination: docker-compose
- url: https://github.com/bcicen/ctop/releases/download/v0.7.3/ctop-0.7.3-linux-amd64
  destination: ctop
- url: https://github.com/rancher/rke/releases/download/v1.1.2/rke_linux-amd64
  destination: rke
- url: https://github.com/dannagle/PacketSender/releases/download/v6.2.3/PacketSender_Linux_x64_v6.2.3.AppImage
  destination: packetsender
  desktop_file: ./files/apps/packetsender/packetsender.desktop
- url: https://github.com/rancher/k3s/releases/download/v1.17.5%2Bk3s1/k3s
  destination: k3s
- url: https://github.com/hadolint/hadolint/releases/download/v1.18.0/hadolint-Linux-x86_64
  destination: hadolint
- url: https://github.com/lensapp/lens/releases/download/v3.4.0/Lens-3.4.0.AppImage
  destination: lens
  desktop_file: ./files/apps/lens/lens.desktop
mitogen:
  config:
  - section: defaults
    option: strategy
    value: mitogen_linear
  - section: defaults
    option: strategy_plugins
    value: /etc/ansible/mitogen/ansible_mitogen/plugins/strategy
  download:
  - urls: https://networkgenomics.com/try/mitogen-0.2.9.tar.gz
    dest_path: /etc/ansible/mitogen
ansible:
  cfg: /etc/ansible/ansible.cfg
  config:
  - section: defaults
    option: host_key_checking
    value: false
  - section: defaults
    option: retry_file_enable
    value: false
  - section: defaults
    option: callback_whitelist
    value: timer,mail,profile_tasks
startup:
- filename: redshift-gtk.desktop
  source: ./files/apps/redshift-gtk/redshift-gtk.desktop
- filename: shutter.desktop
  source: ./files/apps/shutter/shutter.desktop
- filename: dropbox.desktop
  source: ./files/apps/dropbox/dropbox.desktop
- filename: synapse.desktop
  source: ./files/apps/synapse/synapse.desktop
- filename: DockX.desktop
  source: ./files/apps/dockbarx/DockX.desktop
- filename: remmina-applet.desktop
  source: ./files/apps/remmina/remmina-applet.desktop
- filename: diodon.desktop
  source: ./files/apps/diodon/diodon.desktop
services:
- ssh
- docker
dconf:
   # remove alt+f7 move window shortcut
- key: "/org/cinnamon/muffin/keybindings/begin-move"
  state: present
  value: "['']"
- key: "/org/cinnamon/desktop/keybindings/wm/begin-move"
  state: present
  value: "['']"
timezone: Europe/Warsaw
vscode_obsolete:
- ms-vscode.go
vscode:
- alefragnani.project-manager
- DavidAnson.vscode-markdownlint
- DotJoshJohnson.xml
- emmanuelbeziat.vscode-great-icons
- florianloch.text-transform
- gep13.chocolatey-vscode
- hypnoes.word-count
- jansenfuller.crayon-vscode
- joffreykern.markdown-toc
- puppet.puppet-vscode
- marcostazi.VS-code-vagrantfile
- hashicorp.terraform
- mohsen1.prettify-json
- ms-azuretools.vscode-azureterraform
- ms-azuretools.vscode-docker
- ms-kubernetes-tools.vscode-kubernetes-tools
- ms-python.python
- ms-vscode.azure-account
- ms-vscode.azurecli
- ms-vscode.cpptools
- golang.go
- ms-vscode.powershell
- ms-vscode.wordcount
- ms-vsliveshare.vsliveshare
- p1c2u.docker-compose
- pgourlain.erlang
- rebornix.ruby
- redhat.vscode-yaml
- shardulm94.trailing-spaces
- tht13.html-preview-vscode
- vscoss.vscode-ansible
- wholroyd.jinja
- yzane.markdown-pdf
- timonwong.shellcheck
- exiasr.hadolint
- medo64.render-crlf
sysctl:
# enable bbr congestion for tcp
- name: net.core.default_qdisc
  value: fq
  state: present
- name: net.ipv4.tcp_congestion_control
  value: bbr
  state: present
# decrease swappiness when you have plenty of RAM
- name: vm.swappiness
  value: 1
  state: present
# cache settings for more mem
- name: vm.vfs_cache_pressure
  value: 30
  state: present
- name: vm.dirty_ratio
  value: 50
  state: present
- name: vm.dirty_background_ratio
  value: 5
  state: present
- name: vm.dirty_expire_centisecs
  value: 1200
  state: present
# better network settings
- name: net.core.netdev_max_backlog
  value: 100000
  state: present
- name: net.core.netdev_budget
  value: 50000
  state: present
- name: net.core.netdev_budget_usecs
  value: 5000
  state: present
- name: net.core.somaxconn
  value: 1024
  state: present
- name: net.core.rmem_default
  value: 1048576
  state: present
- name: net.core.rmem_max
  value: 16777216
  state: present
- name: net.core.wmem_default
  value: 1048576
  state: present
- name: net.core.wmem_max
  value: 16777216
  state: present
- name: net.core.optmem_max
  value: 65536
  state: present
- name: net.ipv4.tcp_rmem
  value: "4096 1048576 2097152"
  state: present
- name: net.ipv4.tcp_wmem
  value: "4096 65536 16777216"
  state: present
- name: net.ipv4.udp_rmem_min
  value: 8192
  state: present
- name: net.ipv4.udp_wmem_min
  value: 8192
  state: present
- name: net.ipv4.tcp_max_syn_backlog
  value: 8192
  state: present
- name: net.ipv4.tcp_max_tw_buckets
  value: 2000000
  state: present
- name: net.ipv4.tcp_fastopen
  value: 3
  state: present
- name: net.ipv4.tcp_slow_start_after_idle
  value: 0
  state: present
- name: net.ipv4.tcp_tw_reuse
  value: 1
  state: present
alternatives:
- name: editor
  path: /usr/bin/mcedit
  variable: EDITOR
global_env:
- name: EDITOR
  value: mcedit
 # end
